% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/simulation_driver.R
\name{create_simulation_cluster}
\alias{create_simulation_cluster}
\title{Create a reusable evolveTrial simulation cluster}
\usage{
create_simulation_cluster(
  workers = NULL,
  cluster_type = c("auto", "FORK", "PSOCK")
)
}
\arguments{
\item{workers}{Integer; number of worker processes. Defaults to
\code{parallel::detectCores() - 1}.}

\item{cluster_type}{One of \code{"auto"} (default), \code{"FORK"}, or \code{"PSOCK"}. Auto
selects FORK on Unix systems (faster) and PSOCK on Windows.}
}
\value{
A parallel cluster object that can be passed to \code{run_simulation_pure()}
via the \code{cluster} parameter.
}
\description{
Creates a parallel cluster optimized for evolveTrial simulations. The cluster
can be reused across multiple calls to \code{run_simulation_pure()} by passing it
via the \code{cluster} parameter, avoiding the overhead of repeated cluster
creation/destruction.
}
\details{
This function is particularly useful for Bayesian optimization
workflows where \code{run_simulation_pure()} is called hundreds of times. By
creating the cluster once and reusing it, you can eliminate the 5-10 second
cluster spawn/teardown overhead per call.

FORK clusters (default on Unix) are significantly faster because:
\itemize{
\item Worker processes inherit the parent environment (no package loading)
\item Data is shared via copy-on-write (no serialization overhead)
}

Remember to call \code{release_cluster()} when done to free resources.
}
\examples{
\dontrun{
# Create cluster once
cl <- create_simulation_cluster(workers = 8)

# Use in repeated BO evaluations
for (i in 1:100) {
  result <- run_simulation_pure(
    num_simulations = 500,
    ...,
    parallel_replicates = TRUE,
    cluster = cl
  )
}

# Clean up
release_cluster(cl)
}

}
\seealso{
\code{\link[=release_cluster]{release_cluster()}}, \code{\link[=run_simulation_pure]{run_simulation_pure()}}
}
