% Generated by hand; sync with R/gate_diagnostics.R
\name{estimate_vsref_gate_timing}
\alias{estimate_vsref_gate_timing}
\title{Estimate when the vs-reference interim gates can be satisfied}
\description{
Provides lower-bound heuristics for when the between-arm (vs-reference)
interim gating criteria can all be satisfied under deterministic accrual.
}
\usage{
estimate_vsref_gate_timing(args)
}
\arguments{
\item{args}{A named list following the structure passed into
\code{run_simulation_pure()} / \code{run_scenarios()}. The function uses
entries relevant to vs-reference gating, namely \code{arm_names},
\code{reference_arm_name}, \code{overall_accrual_rate},
\code{randomization_probs}, \code{max_total_patients_per_arm},
\code{max_follow_up_sim}, \code{min_events_per_arm},
\code{min_median_followup_per_arm}, and
\code{min_person_time_frac_per_arm}.}
}
\value{
A list with two components:
\itemize{
  \item \code{per_arm}: data frame containing the per-arm accrual rate and
        the heuristic lower-bound times (in months) for each gating
        component.
  \item \code{joint_lower_bound}: the maximum of the per-arm lower bounds,
        representing the earliest calendar time at which all gates could
        plausibly be satisfied simultaneously under the heuristics.
}
}
\details{
The calculations assume constant accrual with rate
\code{overall_accrual_rate} split according to \code{randomization_probs}.
Person-time requirements are approximated using the relationship
PT \eqn{\approx} rate \eqn{\times} time\(^2\) / 2 under steady accrual,
while the median follow-up requirement is approximated using the
rule-of-thumb that the median follow-up cannot exceed roughly half of the
calendar time under uniform accrual.
}
\examples{
args <- list(
  arm_names = c("Doublet", "Triplet"),
  reference_arm_name = "Doublet",
  overall_accrual_rate = 3,
  randomization_probs = c(Doublet = 0.5, Triplet = 0.5),
  max_total_patients_per_arm = c(Doublet = 70, Triplet = 70),
  max_follow_up_sim = 24,
  min_events_per_arm = 8,
  min_median_followup_per_arm = 3,
  min_person_time_frac_per_arm = 0.15
)
estimate_vsref_gate_timing(args)
}
