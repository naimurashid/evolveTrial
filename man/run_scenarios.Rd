% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/simulation_driver.R
\name{run_scenarios}
\alias{run_scenarios}
\title{Evaluate a design across multiple scenarios}
\usage{
run_scenarios(base_args, scens, parallel = FALSE, seed = NULL)
}
\arguments{
\item{base_args}{Named list of arguments accepted by \code{run_simulation_pure()}.}

\item{scens}{List of scenario override lists, typically from
\code{scenarios_from_grid()}.}

\item{parallel}{Logical; if \code{TRUE} uses \code{parallel::mclapply()} to distribute
scenarios across cores.}

\item{seed}{Optional integer seed passed to \code{set.seed()} before simulations.}
}
\value{
A data.table/data.frame containing the combined operating
characteristic summaries.  A \code{scenario} column identifies the originating
scenario index.
}
\description{
Merges each scenario override list with \code{base_args}, runs
\code{run_simulation_pure()} for every scenario, and binds the results into a
single table.
}
\examples{
\dontrun{
base_args <- list(
  num_simulations = 200,
  arm_names = c("Doublet", "Triplet"),
  reference_arm_name = "Doublet",
  compare_arms_option = TRUE,
  weibull_shape_true_arms = c(Doublet = 1.2, Triplet = 1.2),
  weibull_median_true_arms = c(Doublet = 6, Triplet = 6),
  null_median_arms = c(Doublet = 6, Triplet = 6),
  futility_median_arms = c(Doublet = 6, Triplet = 6),
  interval_cutpoints_sim = seq(0, 24, by = 3),
  max_follow_up_sim = 24,
  censor_max_time_sim = 24,
  prior_alpha_params_model = rep(0.5, 8),
  prior_beta_params_model = rep(0.5, 8),
  num_posterior_draws = 400,
  cohort_size_per_arm = 1,
  max_total_patients_per_arm = c(Doublet = 60, Triplet = 60),
  min_patients_for_analysis = 10,
  efficacy_stopping_rule_hc = TRUE,
  efficacy_threshold_current_prob_hc = 0.95,
  posterior_futility_threshold_hc = 0.8,
  futility_stopping_rule_hc = TRUE,
  efficacy_threshold_vs_ref_prob = 0.98,
  futility_threshold_vs_ref_prob = 0.6,
  compare_arms_futility_margin = 0.4,
  overall_accrual_rate = 3,
  randomization_probs = c(Doublet = 1/3, Triplet = 2/3),
  min_follow_up_at_final = 0,
  min_events_for_analysis = 0,
  min_median_followup = 0,
  interim_calendar_beat = 3,
  pred_success_pp_threshold_hc = 1,
  pred_futility_pp_threshold_hc = 0,
  num_posterior_draws_pred = 200
)

scens <- scenarios_from_grid(list(
  weibull_median_true_arms = list(
    c(Doublet = 6, Triplet = 6),
    c(Doublet = 6, Triplet = 9)
  )
))

run_scenarios(base_args, scens, parallel = FALSE, seed = 123)
}

}
